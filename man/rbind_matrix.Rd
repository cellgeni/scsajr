% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scsajr.R
\name{rbind_matrix}
\alias{rbind_matrix}
\title{Bind a list of sparse matrices by rows, aligning columns}
\usage{
rbind_matrix(mat_list, colnames_union = NULL)
}
\arguments{
\item{mat_list}{A list of matrices or sparse matrices.
Each should have identical row names but may differ in column names.}

\item{colnames_union}{Optional character vector of column names to enforce across all matrices.
If \code{NULL}, defaults to the union of all column names in \code{mat_list}.}
}
\value{
A single sparse matrix (class \code{dgCMatrix}) obtained by row‐binding all matrices in
\code{mat_list}, with columns matching \code{colnames_union}. Missing columns in a given matrix
are filled with zero‐filled sparse columns.
}
\description{
Given a list of matrices (possibly sparse), this function ensures that each matrix hasthe same set of column names
by inserting zero‐filled sparse columns where needed, then row‐binds them into a single sparse matrix.
}
\examples{
\dontrun{
library(Matrix)
mat1 <- sparseMatrix(
  i = c(1, 2), j = c(1, 2), x = c(1, 2),
  dims = c(2, 3), dimnames = list(c("r1", "r2"), c("A", "B", "C"))
)
mat2 <- sparseMatrix(
  i = c(1, 2), j = c(2, 3), x = c(3, 4),
  dims = c(2, 3), dimnames = list(c("r1", "r2"), c("B", "C", "D"))
)
combined <- rbind_matrix(list(mat1, mat2))
# Result has columns A, B, C, D, with zeros filled sparsely
}

}
